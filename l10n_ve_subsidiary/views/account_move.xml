<odoo>

    <record id="l10n_ve_subsidiary_account_move_form" model="ir.ui.view">
        <field name="name">l10n.ve.subsidiary.account_move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@id='header_right_group']/div[3]" position="after">
                <field name="company_subsidiary" invisible='1'/>
                <field name="account_analytic_id"
                        invisible="not company_subsidiary"
                        readonly="invoice_origin or state != 'draft'"
                        required="company_subsidiary"/>
            </xpath>
        </field>
    </record>

    <record id="l10n_ve_subsidiary_account_move_view_tree" model="ir.ui.view">
        <field name="name">l10n.ve.subsidiary.account.move.view.tree</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_invoice_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='amount_total_signed']" position="after">
                <field name="account_analytic_id" optional="hide"/>
            </xpath>
        </field>
    </record>

    <record id="l10n_ve_subsidiary_account_move_view_search" model="ir.ui.view">
        <field name="name">l10n.ve.subsidiary.account.move.view.search</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_invoice_filter"/>
        <field name="arch" type="xml">
            <search>
                <field name="account_analytic_id" string="Sucursal"/>
                <group string="Group by">
                    <filter name="account_analytic_id" string="Sucursal" context="{'group_by': 'account_analytic_id'}"/>
                </group>
                <filter name="account_analytic_id" string="Sucursal" domain="[('account_analytic_id', '!=' , False)]"/>
            </search>
        </field>
    </record>

    <record id="view_account_move_filter_inherit_l10n_ve_subsidiary" model="ir.ui.view">
        <field name="name">account.move.view.search.inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_move_filter"/>
        <field name="arch" type="xml">
            <search>
                <field name="account_analytic_id" string="Sucursal"/>
                <group string="Group by">
                    <filter name="account_analytic_id" string="Sucursal" context="{'group_by': 'account_analytic_id'}"/>
                </group>
                <filter name="account_analytic_id" string="Sucursal" domain="[('account_analytic_id', '!=' , False)]"/>
            </search>
        </field>
    </record>

</odoo>