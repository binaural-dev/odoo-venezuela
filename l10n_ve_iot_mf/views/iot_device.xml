<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="iot_device_view_form" model="ir.ui.view">
        <field name="name">iot.device.view.form</field>
        <field name="model">iot.device</field>
        <field name="inherit_id" ref="iot.iot_device_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="before">
                <header>
                    <widget 
                        name="iot-mf-button" 
                        action="get_serial_machine" 
                        attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="generate_report_z"  
                        attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="generate_report_x" 
                        attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="programacion" 
                        attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                            ('manufacturer_type','!=', 'HKA')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="status_error" 
                        attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                            ('manufacturer_type','!=', 'HKA')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="test" 
                        attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                            ('manufacturer_type','!=', 'HKA')]}"/>
                    <widget 
                        name="iot-mf-button" 
                        action="configure_device" 
                        attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                            ('manufacturer_type','!=', 'HKA')]}"/>
                </header>
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page string="Print Reports" attrs="{'invisible':['|',
                    ('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}">
                    <group>
                        <group>
                            <field name="resume_range_from" placeholder="Date from"/>
                            <field name="resume_range_to" placeholder="Date to"/>
                            <widget name="iot-mf-button" action="print_resume_date" attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                        </group>
                    </group>
                </page>
                <page string="Reprint Documents" attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}">
                    <group>
                        <group>
                            <field name="reprint_type" placeholder="Type"/>
                            <div class="text-muted">
                                Reprint Documents range
                            </div>
                            <div attrs="{'invisible': [('reprint_type','!=','number')]}">
                                <field name="reprint_type_number" placeholder="Document"/>
                                <field name="reprint_range_from_number" placeholder="Number from"/>
                                <field name="reprint_range_to_number" placeholder="Number to"/>
                                <widget name="iot-mf-button" action="reprint_type"/>
                            </div>
                            <div attrs="{'invisible': [('reprint_type','=','number')]}">
                                <field name="reprint_type_date" placeholder="Document"/>
                                <field name="reprint_range_from_date" placeholder="Date from"/>
                                <field name="reprint_range_to_date" placeholder="Date to"/>
                                <widget name="iot-mf-button" action="reprint_type_date" attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                            </div>
                        </group>
                    </group>
                </page>
                <page string="Tools" groups="base.group_no_one" attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}">
                    <group>
                        <group>
                            <label for="payment_methods"/>
                            <div class="col-12">
                                <div>
                                    <field name="payment_methods" placeholder="ID Payment Method"/>
                                </div>
                                <div>
                                    <field name="payment_method_name" placeholder="Name to set on Fiscal machine"/>
                                    <div class="text-muted">
                                        Edit the name of the payment method shown in "programming"
                                        and used to pay on invoices or credit notes
                                    </div>
                                    <widget name="iot-mf-button" action="payment_method" attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                                </div>
                            </div>
                        </group>
                        <group>
                            <group>
                                <label for="command"/>
                                <div id="igtf_setting">
                                    <div>
                                        <field name="command" placeholder="Send command to Fiscal Machine"/>
                                        <div class="text-muted">
                                            Send raw command to the fiscal machine
                                        </div>
                                        <widget name="iot-mf-button" action="command" attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                                    </div>
                                </div>
                            </group>
                        </group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//field[@name='identifier']" position="after">
                <field 
                    name="manufacturer_type"
                    attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                <field 
                    name="serial_machine"
                    attrs="{'invisible':[('type','!=', 'fiscal_data_module')]}"/>
                <field 
                    name="flag_21"
                    attrs="{'invisible':['|',
                    ('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}"/>
                <field 
                    name="flag_24"
                    attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}"/>
                <field 
                    name="show_version"
                    attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}"/>
                <field 
                    name="has_cashbox"
                    attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}"/>
                <field 
                    name="traditional_line"
                    attrs="{'invisible':['|',('type','!=', 'fiscal_data_module'),
                    ('manufacturer_type','!=', 'HKA')]}"/>
            </xpath>
        </field>
    </record>
</odoo>
